# cbindgen configuration for memvid-ffi

language = "C"

header = """
/**
 * memvid - Single-file AI Memory Library
 * C FFI Bindings
 *
 * This header is auto-generated by cbindgen. Do not edit manually.
 *
 * Thread Safety: MemvidHandle is NOT thread-safe. Use from a single thread
 * or provide external synchronization.
 *
 * Memory Ownership:
 * - Handles: Caller owns, must call memvid_close()
 * - Returned strings: Caller owns, must call memvid_string_free()
 * - MemvidError.message: FFI owns, call memvid_error_free()
 */
"""

trailer = """
#ifdef __cplusplus
}
#endif
"""

include_guard = "MEMVID_FFI_H"
autogen_warning = "/* Warning: this file is autogenerated by cbindgen. Don't modify manually. */"
include_version = true
cpp_compat = true

braces = "SameLine"
line_length = 100
tab_width = 4
documentation = true
documentation_style = "doxy"

style = "both"

[defines]
"feature = lex" = "MEMVID_FEATURE_LEX"
"feature = vec" = "MEMVID_FEATURE_VEC"
"feature = clip" = "MEMVID_FEATURE_CLIP"

[export]
include = [
    "MemvidErrorCode",
    "MemvidError",
    "MemvidStats",
    "MemvidHandle",
]

[export.rename]

[fn]
rename_args = "None"

[struct]
rename_fields = "None"

[enum]
rename_variants = "None"
prefix_with_name = true

[parse]
parse_deps = false
extra_bindings = []
